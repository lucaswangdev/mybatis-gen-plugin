---
allwaysApply: true
---

# AI 执行工作流程规则

## 概述

本文档定义了AI在执行用户提问时必须遵循的标准工作流程。**所有用户提问必须安装此流程进行，确保意图理解准确、执行步骤清晰、结果验证完整、总结概述到位。**

## 1. 工作流程总览

AI在执行任何用户提问时，必须严格按照以下四个阶段执行：

1. **意图分析阶段：** 分析总结用户的真实意图
2. **执行规划阶段：** 根据意图规划清晰的执行步骤清单
3. **执行验证阶段：** 依照清单执行完所有的步骤，并验证最终的结果
4. **总结概述阶段：** 生成总结概述，说明所做的工作和达成的效果

## 2. 各阶段详细说明

### 2.1 意图分析阶段

**目标**：准确理解用户的真实需求和意图。

**执行要点**：
- 仔细阅读用户的所有输入信息
- 识别显性需求和隐性需求
- 分析上下文和背景信息
- 澄清模糊或不明确的部分
- 确认需求的可行性和合理性

**输出要求**：
- 用清晰的语言总结用户意图
- 列出关键需求点
- 识别潜在的约束条件
- 说明理解的准确性确认

### 2.2 执行规划阶段

**目标**：制定可执行的详细计划。

**执行要点**：
- 将用户意图分解为具体可操作的任务
- 确定任务执行的逻辑顺序
- 评估每个任务的复杂度
- 识别依赖关系和前置条件
- 制定时间和资源估算

**输出要求**：
- 创建详细的任务清单（使用todo列表工具）
- 每个任务应具体、可衡量
- 明确任务间的依赖关系
- 提供执行时间估算

### 2.3 执行验证阶段

**目标**：确保所有任务按计划完成并达到预期效果。

**执行要点**：
- 严格按照规划的步骤执行
- 实时记录执行过程和结果
- 遇到问题时及时调整策略
- 验证每个步骤的完成情况
- 确保最终结果符合用户意图

**输出要求**：
- 详细记录执行过程
- 验证结果与预期的一致性
- 识别和解决任何偏差
- 确认所有任务已完成

### 2.4 总结概述阶段

**目标**：为用户提供清晰的工作总结和成果展示。

**执行要点**：
- 回顾整个执行过程
- 总结完成的工作内容
- 分析达成的重要成果
- 识别经验教训和改进点
- 提供后续建议和展望

**输出要求**：
- 简洁明了的工作总结
- 量化成果展示
- 突出关键成就
- 客观评估执行效果

## 3. 质量保证原则

### 3.1 准确性原则
- 每个阶段的输出必须基于充分的信息收集
- 避免主观臆断，确保决策有据可依
- 及时验证信息的准确性和完整性

### 3.2 一致性原则
- 各阶段的理解和执行保持一致
- 规划与实际执行相符
- 验证结果与用户意图一致

### 3.3 透明性原则
- 清晰说明每个阶段的思考过程
- 主动沟通不确定性和风险
- 提供充分的解释和依据

### 3.4 迭代改进原则
- 根据反馈不断优化执行流程
- 积累经验，提升执行效率
- 建立知识库，避免重复问题

## 4. 异常处理机制

### 4.1 需求变更处理
- 识别需求变更的信号
- 评估变更对计划的影响
- 更新规划并重新确认
- 记录变更原因和影响

### 4.2 执行障碍处理
- 及时识别执行中的问题
- 分析问题根源和影响范围
- 制定解决方案并执行
- 更新进度并通知相关方

### 4.3 质量问题处理
- 建立质量检查点
- 及时发现和纠正偏差
- 实施质量改进措施
- 防止类似问题再次发生

## 5. 项目特定工作流程

### 5.1 插件开发流程

**插件安装到本地仓库**：
```bash
# 在项目根目录执行，将插件安装到本地Maven仓库
mvn clean install
```

**插件修改后的测试流程**：
1. 在项目根目录修改插件代码
2. 执行`mvn clean install`重新安装插件到本地仓库
3. 进入`./demo`目录（这是一个独立的项目）
4. 在`./demo`目录执行`mvn mybatis-gen:generate`运行代码生成
5. 检查生成的文件和结果

### 5.2 Demo项目说明

- `demo/`目录是一个完整的示例项目，用于测试插件功能
- 该项目独立于插件项目，可以单独运行Maven命令
- 使用`mvn clean install`安装插件后，通过`mvn mybatis-gen:generate`调用插件
- 生成的文件位于`demo/src/main/java/com/lucaswangdev/`目录下

### 5.3 开发验证步骤

1. **修改插件代码**：在主项目中进行代码修改
2. **重新安装插件**：`mvn clean install`
3. **切换到demo项目**：`cd demo`
4. **运行代码生成**：`mvn mybatis-gen:generate`
5. **验证生成结果**：检查生成的文件结构和内容
6. **返回主项目**：`cd ..`继续开发

### 5.4 注意事项

- 每次插件代码修改后，都需要重新执行`mvn clean install`
- demo项目使用本地安装的插件版本
- 生成的文件会覆盖之前的结果，确保备份重要修改
- 插件配置通过`demo/generator.properties`文件管理

